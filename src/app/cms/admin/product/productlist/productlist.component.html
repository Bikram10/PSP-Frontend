<app-dashboard></app-dashboard>
<div class="container-fluid" id="wrapper">
  <div id="header">
    <h3>All Products</h3>
    <span>Below is the list of all products</span>
  </div>
  <form [formGroup]="myForm">
    <div class="form-group">
      <label style="font-family: 'Crimson Text', sans-serif">Brand</label>
      <input type="text" class="form-control col-sm-2" formControlName="keyword"  [(ngModel)]="filter.keyword" (input)="getPaging()"/>
    </div>
  </form>
  <div>
    <div  class="alert m-2"></div>
    <div class="table-responsive">
      <table class="table table-centered table-hover mb-0" id="datatable">
        <thead>
        <tr>
          <th class="border-top-0" scope="col" (click)="getPaging()"><span>ID</span><i class="fas fa-sort"></i></th>
          <th class="border-top-0" scope="col" sortable="title">IMAGE</th>
          <th class="border-top-0" scope="col" sortable="text">PRODUCT NAME</th>
          <th class="border-top-0" scope="col" sortable="text">BRAND</th>
          <th class="border-top-0" scope="col" sortable="text">SKU</th>
          <th class="border-top-0" scope="col" sortable="text">Types</th>
          <th class="border-top-0" scope="col" sortable="text">CATEGORY</th>
          <th class="border-top-0" scope="col" sortable="text">PRICE</th>
          <th class="border-top-0" scope="col" sortable="text">DESCRIPTION</th>
          <th class="border-top-0" scope="col" sortable="text">QUANTITY</th>
          <th class="border-top-0" scope="col" sortable="text">STATUS</th>
          <th class="border-top-0" scope="col" style="width:120px">ACTION</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let product of products; let i=index">
          <td>{{product.product_id}}</td>
          <td></td>
          <td>{{product.product_name}}</td>
          <td>{{product.brand}}</td>
          <td>{{product.SKU}}</td>
          <td>{{product.type?.name}}</td>
          <td>{{product.category}}</td>
          <td>{{product.price}}</td>
          <td>{{product.description}}</td>
          <td>{{product.quantity}}</td>
          <td>{{product.stock_status}}</td>
          <td style="white-space: nowrap">
            <a class="btn btn-secondary" [routerLink]="['../edit', product.product_id]">Edit</a>&nbsp;
            <button class="btn btn-danger" (click)="deleteProduct(product.product_id)">Delete</button>
          </td>
        </tr>
        </tbody>
      </table>
      <nav aria-label="Page navigation example">
        <ul class="pagination" >
          <li class="page-item"><a class="page-link" href="#" (click)="previous($event)">Previous</a></li>
          <li class="page-item" *ngFor="let page of pages; let i=index"><a class="page-link" href="#" (click)="setPage(i, $event)">{{i+1}}</a></li>
          <li class="page-item"><a class="page-link" href="#" (click)="next($event)">Next</a></li>
        </ul>
      </nav>
</div>
</div>
</div>
